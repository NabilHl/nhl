{% assign products = collections['clothes-and-accessories'].products | slice: 0, 3 %}
{% assign images = products | map: 'featured_image' %}

<style>
  @font-face {
    font-family: "Roboto";
    src: url("https://assets.codepen.io/907368/Roboto-Bold.ttf");
    font-weight: 700;
  }
  @font-face {
    font-family: "Roboto";
    src: url("https://assets.codepen.io/907368/Roboto-Regular.ttf");
    font-weight: 500;
  }
  @font-face {
    font-family: "Roboto";
    src: url("https://assets.codepen.io/907368/Roboto-Light.ttf");
    font-weight: 300;
  }

  body, html {
    width: 100%;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #0c1016;
    font-size: 20px;
    margin: 0;
    padding: 0;
    color: #ffffff;
    font-family: "Roboto";
    overflow-x: hidden;
  }

  :root {
    --image-1: url({{ images[0] | img_url: 'large' }});
    --image-2: url({{ images[1] | img_url: 'large' }});
    --image-3: url({{ images[2] | img_url: 'large' }});
  }

  .container {
    display: flex;
    flex-direction: row;
    width: 80%;
    max-width: 20rem;
    gap: 0.5rem;
  }
  .container .column {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: inherit;
    width: 100%;
  }
  .container .column .item {
    width: 100%;
    border-radius: 0.5rem;
    background-position: center center;
    background-attachment: fixed;
    background-repeat: no-repeat;
    background-size: contain;
    height: 5rem;
    animation: background 5s infinite ease-in-out;
  }

  .container .column-1 .item-1 { height: 4rem; animation-delay: 150ms; }
  .container .column-1 .item-2 { height: 6rem; animation-delay: 274ms; }
  .container .column-1 .item-3 { height: 3rem; animation-delay: 350ms; }
  .container .column-2 .item-1 { height: 4rem; animation-delay: 150ms; }
  .container .column-2 .item-2 { height: 9rem; animation-delay: 274ms; }
  .container .column-2 .item-3 { height: 3rem; animation-delay: 350ms; }
  .container .column-3 .item-1 { height: 6rem; animation-delay: 280ms; }
  .container .column-3 .item-2 { height: 5rem; animation-delay: 95ms; }
  .container .column-3 .item-3 { height: 3rem; animation-delay: 350ms; }

  @keyframes background {
    0% { background-image: var(--image-1); }
    30% { background-image: var(--image-1); }
    33% { background-image: var(--image-2); }
    63% { background-image: var(--image-2); }
    66% { background-image: var(--image-3); }
    96% { background-image: var(--image-3); }
    100% { background-image: var(--image-1); }
  }
</style>

<div class="container">
  <div class="column column-1">
    <div class="item item-1"></div>
    <div class="item item-2"></div>
    <div class="item item-3"></div>
  </div>

  <div class="column column-2">
    <div class="item item-1"></div>
    <div class="item item-2"></div>
    <div class="item item-3"></div>
  </div>

  <div class="column column-3">
    <div class="item item-1"></div>
    <div class="item item-2"></div>
    <div class="item item-3"></div>
  </div>
</div>
